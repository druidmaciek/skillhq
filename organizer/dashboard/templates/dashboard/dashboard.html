{% extends "app_base.html" %}

{% load static %}

{% block title %}
Dashboard
{% endblock %}

{% block js %}
  <script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}



{% block app_content %}




<main x-data="{ showSlideover: false }">
  <div class="mx-auto sm:px-6 lg:px-8">
  <div class="bg-white overflow-hidden sm:rounded-md mb-4">
      <ul>
        <li>
          <div class="bg-white px-4 py-5 sm:px-6">
                  <div class="-ml-4 -mt-2">
                    <div class="ml-4 mt-2">
                      <h3 class="text-lg leading-6 font-medium text-gray-900">
                        What Did you learn Today?
                      </h3>
                        <p class="text-gray-400 text-sm font-medium">Learning Log - Share new things you learned</p>
                    </div>
                  </div>
              <div class="mt-2">
                  <form action="{% url 'dashboard:add_log' %}" method="POST">
                      {% csrf_token %}
                  <div class="mt-1 relative rounded-md shadow-sm">
                    <input name="text" class="form-input block w-full sm:text-sm sm:leading-5" placeholder="What did you learn today?">
                  </div>
                  <span class="inline-flex rounded-md shadow-sm">
                        <button type="submit" class="mt-2 inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700">
                          Submit
                        </button>
                      </span>
                  </form>
            </div>
        </div>
        </li>
      </ul>
      {% for log in request.user.logs.all %}
      <p>{{ log.text }}</p>
      {% endfor %}
  </div>



  <div class="bg-white overflow-hidden sm:rounded-md mb-4">
      <ul>
        <li>
          <div class="bg-white px-4 py-5 sm:px-6">
                  <div class="-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-no-wrap">
                    <div class="ml-4 mt-2">
                      <h3 class="text-lg leading-6 font-medium text-gray-900">
                        Feed
                      </h3>
                    </div>
                    <div class="ml-4 mt-2 flex-shrink-0">
                      <span class="inline-flex rounded-md shadow-sm">
                        <a href="{% url 'dashboard:new_discussion' %}" class="inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700">
                          Add Discussion Post
                        </a>
                      </span>
                    </div>
                  </div>
                </div>
        </li>
        {% for action in actions %}
          <li>
              <div class="bg-gray-50 px-4 py-5 sm:px-6 m-4 flex items-center">

                  <div>
                      <div>
                          <a href="" class="text-indigo-500 font-medium">@{{ action.user.username }}</a>
                          <span>{{ action.verb }} {% if action.target %}<a class="text-indigo-500" href="{% url 'dashboard:discussion_detail' action.target.id %}">{{ action.target }}</a>{% endif %}</span>
                      </div>
                      <p class="text-gray-500 text-sm">{{ action.created }}</p>
                  </div>
                  <div>

                  </div>


              </div>
          </li>
        {% endfor %}


      </ul>

  </div>
</div>

    </main>
{% endblock %}